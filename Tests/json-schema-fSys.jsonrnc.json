{"$schema":"http://json-schema.org/draft-07/schema#",
 "additionalProperties":false,
 "definitions":{"diskDevice":{"additionalProperties":false,
                              "properties":{"device":{"pattern":"/dev/[^/]+(/[^/]+)*",
                                                      "type":"string"},
                                            "type":{"pattern":"disk",
                                                    "type":"string"}},
                              "required":["type","device"],
                              "type":"object"},
                "diskUUID":{"additionalProperties":false,
                            "properties":{"label":{"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}",
                                                   "type":"string"},
                                          "type":{"pattern":"disk",
                                                  "type":"string"}},
                            "required":["type","label"],
                            "type":"object"},
                "infos":{"additionalProperties":false,
                         "properties":{"fstype":{"pattern":"ext3|ext4|btrfs",
                                                 "type":"string"},
                                       "options":{"items":{"type":"string"},
                                                  "minItems":1,
                                                  "type":"array"},
                                       "readonly":{"type":"boolean"},
                                       "storage":{"$ref":"#/definitions/storageType"}},
                         "required":["storage"],
                         "type":"object"},
                "nfs":{"additionalProperties":false,
                       "properties":{"format":{"pattern":"host-name|ipv4|ipv6",
                                               "type":"string"},
                                     "remotePath":{"pattern":"(/[^/]+)+",
                                                   "type":"string"},
                                     "server":{"type":"string"},
                                     "type":{"pattern":"nfs",
                                             "type":"string"}},
                       "required":["type","remotePath","server"],
                       "type":"object"},
                "storageType":{"oneOf":[{"$ref":"#/definitions/diskDevice"},
                                        {"$ref":"#/definitions/diskUUID"},
                                        {"$ref":"#/definitions/nfs"},
                                        {"$ref":"#/definitions/tmpfs"}]},
                "tmpfs":{"additionalProperties":false,
                         "properties":{"sizeInMB":{"maximum":512,
                                                   "minimum":16,
                                                   "type":"integer"},
                                       "type":{"pattern":"tmpfs",
                                               "type":"string"}},
                         "required":["type","sizeInMB"],
                         "type":"object"}},
 "properties":{"/":{"$ref":"#/definitions/infos"},
               "/tmp":{"$ref":"#/definitions/infos"},
               "/var":{"$ref":"#/definitions/infos"},
               "/var/www":{"$ref":"#/definitions/infos"}},
 "required":[],
 "type":"object"}
